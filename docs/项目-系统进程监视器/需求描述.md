---
sidebar_position: 2
---

# 需求描述

这个需求是一个典型的“一句话需求”，这也是我们做项目时可能遇到的一个情况：甲方只知道他大概要什么东西，但对这个东西并没有一个清晰的认知。

那你如果是项目经理，恐怕内心骂娘的同时，也感谢了一下上苍，最起码甲方没有把一些他认为各种“有必要”的功能添加进来。

很多计算机科班的同学或者已经工作的程序员是很疑惑为什么现在的软件逐渐变得复杂，一开始总是很轻巧很易用，但后来各种各样的“社交”、“商场”、“直播”功能如雨后春笋般加入，程序也迅速臃肿壮大。对于极客的程序员来说这是一件不能理解且不能容忍的事情，但事实上，了解过市场营销的同学可能会认为已经铺开的程序（一般此时程序还很简洁）是一个很不错的渠道，企业可以通过这些成熟渠道横向拓展企业的业务范围——毕竟更新手机里的APP比重新下载安装一个不需要的APP更能让用户接受。

那回到正题。相比各位已经清楚软件工程的比较常见的几个阶段：需求、设计、编码、测试。无论你使用的是瀑布模型又或者其他，大体上是逃不出这几种阶段的，当然，特殊情况除外。

作为项目经理，在了解到甲方意向后，第一件事情就是：弄清楚他想要什么。

## 需求功能

弄清楚需求并不是一件容易的事情，因为你需要同时兼顾技术可行性、业务可行性和甲方的意向，在我工作的这段时间我们主要是进行敏捷项目管理，面对的更多是业务需求和技术需求。

对于这个需求而言，大体的基调已经定好了：一个能帮助揪出偷跑程序的工具。那么基于这个基调，我们和甲方进行沟通，确认一下它应该有什么样的功能。

首先，这个需求的核心是能找出偷跑程序的工具，而甲方的平台是`Windows`平台，因此它理应具备核心功能：

- 记录后台进程并记录

这个核心功能还需要再明确一下，因为里面有几个不明确的点：

1. 记录是以什么频率记录？
2. 后台进程如果是多进程程序那按照几个记录？
3. 记录的内容都有哪些？

于是我们再和甲方沟通，逐渐发现需求开始变得复杂起来：

1. 记录是以什么频率记录？：可以配置，可以按秒，也可以按照分钟。
2. 后台进程如果是多进程程序那按照几个记录？：将多个子进程合并成一个记录
3. 记录的内容都有哪些？：CPU、内存占用。

在得到了上面的疑问后，我们看似得到了一个不错的结论，好像需求都已经明确了。但实际上我们还需要思考一些问题：作为甲方来说，上面的功能哪些是必要的，哪些是不必要的，还有哪些功能是没有被考虑的？

我们可以思考一下，假设我们手头有一个已经做好的工具，我希望在笔记本合上盖子前运行它，然后确认风扇狂转后再打开盖子查看结果。结果发现了密密麻麻的统计数据，分布在文件夹里的非常多的文件里，你完全不知奥该怎么分析，也不知道哪些是重点。

此时我们是不是已经发现了，仅凭上面的需求描述是无法满足甲方的真实需要的，因此我们需要额外附加一些功能来辅助甲方找到问题：

1. 将记录以图表的形式呈现：相比起密密麻麻的数据，图表肯定是最为清晰美观的。
2. 额外记录在监控时间段内启停的进程：因为甲方的意思是合上盖子后才开始跑的，除了一些持续存在的进程以外，那些关上盖子才开始启动的进程嫌疑肯定更大，因此我们需要额外关注这些进程。

于是，一个相对完美的需求功能被明确了，同时，我们基于这些功能划分成多个功能点：

1. 功能点1：监视系统进程资源占用情况
   1. 获取后台所有进程并统计所有进程的CPU、内存占用
   2. 汇总合并所有子进程
   3. 统计频率可以设置
2. 功能点2：监视启停进程
   1. 监视启停进程并记录
3. 功能点3：使用图表的方式展示功能1结果

此时我们已经基本上可以想象的出来这个程序是怎么样的了，可以说，初版的需求明确已经完成。

## 可行性分析

在分析好需求功能点后，我们需要动手来确认一下这个需求是否可行。

按照功能点来说，我们需要在以下几个方面探索可行性：

1. 功能点1、2：需要有一个可以获取所有系统进程的库；需要有一个可以获取指定进程资源占用的库。
2. 功能点3：需要有一个可以生成图表的库。

有关可行性探索，如果有现成的轮子肯定会优先使用，如果没有或者一些特殊情况我们才会选择造轮子。

那对于功能点1、2，在查询相关的资料后，我们发现`psutil`这个库可以完美解决这两个问题，在试验完成之后，确认了功能可用。

:::tip [psutil](https://psutil.readthedocs.io/en/latest/)
psutil (process and system utilities) 是一个跨平台的库，用于在Python中检索运行中的进程和系统利用率（CPU、内存、磁盘、网络、传感器）的信息。它主要用于系统监控、剖析和限制进程资源以及运行进程的管理。它实现了经典UNIX命令行工具提供的许多功能，如ps、top、iotop、lsof、netstat、ifconfig、free等。 psutil目前支持以下平台：

- Linux
- Windows
- macOS
- FreeBSD, OpenBSD, NetBSD
- Sun Solaris
- AIX

支持的Python版本是2.7、3.4+和PyPy。
:::

对于功能点3，我们同样选择了`pyecharts`这个库来作为图表展示的工具。

:::tip [pyecharts](https://05x-docs.pyecharts.org/#/zh-cn/prepare)
Apache ECharts 是一个由百度开源的数据可视化，凭借着良好的交互性，精巧的图表设计，得到了众多开发者的认可。而 Python 是一门富有表达力的语言，很适合用于数据处理。当数据分析遇上数据可视化时，pyecharts 诞生了。
:::

在经过一系列的尝试后，我们终于得出结论：该需求方案可行。
